## (Lv1) 택배 상자 지그재그 쌓기 — 코드 이해용 메모

### 0) 이 문제에서 “진짜로 필요한 것”
- `num` 상자를 꺼내려면, **`num`이 놓인 “세로줄(열)” 위에 있는 상자들**을 같이 꺼내야 함.
- 그래서 필요한 건 딱 2개:
  1) `num`이 몇 번째 층(row)에 있는지
  2) 그 층에서 `num`이 몇 번째 열(col)에 있는지(지그재그 때문에 뒤집힘)
- 그리고 **같은 col에서 위층에 상자가 있으면 +1** 해서 개수를 세면 끝.

---

### 1) 층(row) 구하기
- 한 층에 w개씩 쌓음
- 1~w는 0층, w+1~2w는 1층 … 이런 식

- 0부터 시작하는 층 번호:
  - `r = (num - 1) // w`

예시) w=6, num=8  
- (8-1)//6 = 7//6 = 1 → 8번은 **1층(두 번째 줄)**

---

### 2) 같은 층에서 “몇 번째 칸인지”(층 내부 위치 p)
- 그 층에서 왼쪽부터 몇 번째로 들어오는지(0-based):
  - `p = (num - 1) % w`

예시) w=6, num=8  
- (8-1)%6 = 7%6 = 1 → “해당 층에서 두 번째로 들어온 상자”

---

### 3) 지그재그 때문에 “열(col)”로 바꾸기
층이
- 짝수층(0,2,4...)이면 왼쪽→오른쪽(L→R)
- 홀수층(1,3,5...)이면 오른쪽→왼쪽(R→L)

그래서 `p`를 그대로 열로 쓰면 안 되고, 홀수층은 뒤집어야 함.

- `col = p`  (r이 짝수면)
- `col = w - 1 - p`  (r이 홀수면)

예시) w=6, num=8, r=1(홀수), p=1  
- col = 6-1-1 = 4  
→ 8번은 **0~5 중 4번 열(왼쪽에서 다섯 번째 칸)**에 있다.

(이게 핵심: “층 내부 순서(p)”와 “열(col)”은 지그재그에서 다를 수 있음)

---

### 4) 위층에 같은 col이 있으면 꺼낼 상자 +1
이제 `num`이 있는 층 r 위에 있는 층들(rr=r+1 ... 마지막층)만 보면 됨.

- 대부분의 층은 w개로 꽉 차 있으니까, 그 열(col)에 상자가 “무조건” 있음 → +1
- 예외는 **마지막 층**이 덜 찬 경우뿐임.

---

### 5) 마지막 층(맨 위층)이 덜 찬 경우 체크 방법
총 층 수:
- `total_rows = (n + w - 1) // w`

마지막 층에 실제로 존재하는 상자 개수:
- `last_len = n - (total_rows - 1) * w`
  - 마지막층이 꽉 차면 last_len == w
  - 아니면 1~w-1

마지막 층이 덜 찼을 때, “col 위치에 상자가 있는지” 조건이 층 방향에 따라 달라짐:

- 마지막 층이 짝수층(L→R 채움)이라면:
  - 0,1,2,...,last_len-1 열에만 상자가 존재
  - 즉 `col < last_len`이면 존재

- 마지막 층이 홀수층(R→L 채움)이라면:
  - 오른쪽부터 last_len개가 채워짐
  - 즉 열이 `w-last_len` ~ `w-1`에만 존재
  - 즉 `col >= w - last_len`이면 존재

---

### 6) 결론: 코드가 하는 일(요약)
1) r = (num-1)//w 로 층 찾고
2) p = (num-1)%w 로 층 내부 위치 찾고
3) 지그재그 반영해서 col 계산하고
4) r 위의 층들을 보면서:
   - 꽉 찬 층이면 무조건 +1
   - 마지막 층이 덜 찼으면 col이 존재할 때만 +1
5) 자기 자신 포함해서 총 개수 반환

---

### 7) 너가 직접 확인해볼 “최소 검산” 추천
w=6, n=22에서 num 몇 개 찍어서
- r, p, col이 맞는지
- 마지막 층(last_len=4)이 예외 처리되는지
손으로 2~3개만 확인하면 바로 감 잡힘.

예) n=22, w=6 → total_rows=4, last_len=4
- 마지막 층은 3층(홀수)이라 R→L로 4칸만 채움
- 즉 마지막 층에 상자 있는 col은 2,3,4,5 뿐

이때 num이 col=0이나 1이면 마지막 층에는 그 위에 상자가 “없음”이 되어야 함.
